/*
 * JBoss, Home of Professional Open Source
 * Copyright 2011, Red Hat, Inc. and individual contributors
 * by the @authors tag. See the copyright.txt in the distribution for a
 * full listing of individual contributors.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the Free
 * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
 */

package org.mobicents.servlet.sip.testsuite.address;

import javax.servlet.sip.Parameterable;
import javax.servlet.sip.ServletParseException;
import javax.servlet.sip.SipURI;

import org.mobicents.servlet.sip.message.SipFactoryImpl;

/**
 * 
 */
public class SipFactoryTest extends junit.framework.TestCase {
	private SipFactoryImpl sipFactory;
	
	int[] arrayToDecode = new int[]{83, 73, 80, 47, 50, 46, 48, 32, 50, 48, 48, 32, 67, 97, 110, 99, 101, 108, 105, 110, 103, 13, 10, 84, 111, 58, 32, 60, 115, 105, 112, 58, 43, 49, 53, 49, 50, 51, 56, 56, 52, 49, 49, 53, 64, 53, 52, 46, 56, 51, 46, 49, 57, 54, 46, 50, 51, 56, 62, 59, 116, 97, 103, 61, 51, 49, 50, 52, 50, 51, 56, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 53, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 54, 50, 55, 52, 52, 122, 115, 100, 95, 48, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 48, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 54, 50, 55, 52, 52, 95, 48, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 58, 53, 48, 54, 48, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 13, 10, 67, 83, 101, 113, 58, 32, 49, 32, 67, 65, 78, 67, 69, 76, 13, 10, 67, 97, 108, 108, 45, 73, 68, 58, 32, 54, 50, 55, 52, 52, 53, 56, 55, 55, 45, 48, 45, 50, 52, 51, 49, 53, 51, 50, 56, 54, 48, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 50, 50, 54, 13, 10, 70, 114, 111, 109, 58, 32, 60, 115, 105, 112, 58, 43, 51, 49, 54, 53, 51, 53, 55, 49, 50, 57, 50, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 62, 59, 116, 97, 103, 61, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 13, 10, 83, 101, 114, 118, 101, 114, 58, 32, 84, 101, 108, 83, 99, 97, 108, 101, 32, 82, 101, 115, 116, 99, 111, 109, 109, 32, 55, 46, 51, 46, 49, 46, 49, 49, 53, 55, 13, 10, 67, 111, 110, 116, 101, 110, 116, 45, 76, 101, 110, 103, 116, 104, 58, 32, 48, 13, 10, 13, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
	int[] arrayToDecode2 = new int[]{83, 73, 80, 47, 50, 46, 48, 32, 50, 48, 48, 32, 79, 75, 13, 10, 84, 111, 58, 32, 60, 115, 105, 112, 58, 43, 49, 53, 49, 50, 51, 56, 56, 52, 49, 49, 53, 64, 53, 52, 46, 56, 51, 46, 49, 57, 54, 46, 50, 51, 56, 62, 59, 116, 97, 103, 61, 51, 51, 54, 51, 51, 53, 52, 50, 95, 97, 53, 56, 100, 51, 100, 53, 52, 95, 53, 55, 97, 53, 98, 48, 56, 97, 95, 100, 102, 53, 49, 54, 101, 102, 55, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 53, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 54, 50, 55, 52, 52, 122, 115, 100, 95, 48, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 48, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 54, 50, 55, 52, 52, 95, 48, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 58, 53, 48, 54, 48, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 13, 10, 82, 101, 99, 111, 114, 100, 45, 82, 111, 117, 116, 101, 58, 32, 60, 115, 105, 112, 58, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 53, 59, 116, 114, 97, 110, 115, 112, 111, 114, 116, 61, 117, 100, 112, 59, 108, 114, 59, 110, 111, 100, 101, 95, 104, 111, 115, 116, 61, 49, 48, 46, 49, 51, 55, 46, 51, 56, 46, 49, 50, 54, 59, 110, 111, 100, 101, 95, 112, 111, 114, 116, 61, 53, 48, 56, 48, 59, 118, 101, 114, 115, 105, 111, 110, 61, 48, 62, 13, 10, 82, 101, 99, 111, 114, 100, 45, 82, 111, 117, 116, 101, 58, 32, 60, 115, 105, 112, 58, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 48, 59, 116, 114, 97, 110, 115, 112, 111, 114, 116, 61, 117, 100, 112, 59, 108, 114, 59, 110, 111, 100, 101, 95, 104, 111, 115, 116, 61, 49, 48, 46, 49, 51, 55, 46, 51, 56, 46, 49, 50, 54, 59, 110, 111, 100, 101, 95, 112, 111, 114, 116, 61, 53, 48, 56, 48, 59, 118, 101, 114, 115, 105, 111, 110, 61, 48, 62, 13, 10, 82, 101, 99, 111, 114, 100, 45, 82, 111, 117, 116, 101, 58, 32, 60, 115, 105, 112, 58, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 58, 53, 48, 54, 48, 59, 108, 114, 59, 116, 114, 97, 110, 115, 112, 111, 114, 116, 61, 117, 100, 112, 62, 13, 10, 67, 83, 101, 113, 58, 32, 49, 32, 73, 78, 86, 73, 84, 69, 13, 10, 67, 97, 108, 108, 45, 73, 68, 58, 32, 54, 50, 55, 52, 52, 53, 56, 55, 55, 45, 48, 45, 50, 52, 51, 49, 53, 51, 50, 56, 54, 48, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 50, 50, 54, 13, 10, 70, 114, 111, 109, 58, 32, 60, 115, 105, 112, 58, 43, 51, 49, 54, 53, 51, 53, 55, 49, 50, 57, 50, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 62, 59, 116, 97, 103, 61, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 53, 52, 52, 48, 50, 55, 114, 100, 98, 50, 55, 49, 52, 50, 13, 10, 83, 101, 114, 118, 101, 114, 58, 32, 84, 101, 108, 83, 99, 97, 108, 101, 32, 82, 101, 115, 116, 99, 111, 109, 109, 32, 55, 46, 51, 46, 49, 46, 49, 49, 53, 55, 13, 10, 67, 111, 110, 116, 97, 99, 116, 58, 32, 60, 115, 105, 112, 58, 53, 52, 46, 56, 51, 46, 49, 57, 54, 46, 50, 51, 56, 58, 53, 48, 54, 48, 62, 13, 10, 67, 111, 110, 116, 101, 110, 116, 45, 84, 121, 112, 101, 58, 32, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 115, 100, 112, 13, 10, 67, 111, 110, 116, 101, 110, 116, 45, 76, 101, 110, 103, 116, 104, 58, 32, 51, 54, 52, 13, 10, 13, 10, 118, 61, 48, 13, 10, 111, 61, 45, 32, 49, 52, 52, 51, 56, 48, 53, 57, 48, 48, 51, 53, 54, 32, 49, 32, 73, 78, 32, 73, 80, 52, 32, 50, 51, 46, 50, 51, 46, 50, 50, 56, 46, 50, 51, 56, 13, 10, 115, 61, 77, 111, 98, 105, 99, 101, 110, 116, 115, 32, 77, 101, 100, 105, 97, 32, 83, 101, 114, 118, 101, 114, 13, 10, 99, 61, 73, 78, 32, 73, 80, 52, 32, 50, 51, 46, 50, 51, 46, 50, 50, 56, 46, 50, 51, 56, 13, 10, 116, 61, 48, 32, 48, 13, 10, 109, 61, 97, 117, 100, 105, 111, 32, 54, 53, 51, 52, 52, 32, 82, 84, 80, 47, 65, 86, 80, 32, 56, 32, 48, 32, 49, 56, 32, 49, 48, 49, 13, 10, 99, 61, 73, 78, 32, 73, 80, 52, 32, 50, 51, 46, 50, 51, 46, 50, 50, 56, 46, 50, 51, 56, 13, 10, 97, 61, 115, 101, 110, 100, 114, 101, 99, 118, 13, 10, 97, 61, 114, 116, 99, 112, 58, 54, 53, 51, 52, 53, 32, 73, 78, 32, 73, 80, 52, 32, 49, 48, 46, 49, 51, 55, 46, 51, 56, 46, 49, 50, 54, 13, 10, 97, 61, 112, 116, 105, 109, 101, 58, 50, 48, 13, 10, 97, 61, 114, 116, 112, 109, 97, 112, 58, 48, 32, 112, 99, 109, 117, 47, 56, 48, 48, 48, 13, 10, 97, 61, 114, 116, 112, 109, 97, 112, 58, 49, 48, 49, 32, 116, 101, 108, 101, 112, 104, 111, 110, 101, 45, 101, 118, 101, 110, 116, 47, 56, 48, 48, 48, 13, 10, 97, 61, 114, 116, 112, 109, 97, 112, 58, 49, 56, 32, 103, 55, 50, 57, 47, 56, 48, 48, 48, 13, 10, 97, 61, 114, 116, 112, 109, 97, 112, 58, 56, 32, 112, 99, 109, 97, 47, 56, 48, 48, 48, 13, 10, 97, 61, 115, 115, 114, 99, 58, 49, 48, 50, 48, 57, 57, 56, 50, 56, 57, 32, 99, 110, 97, 109, 101, 58, 104, 80, 88, 109, 77, 105, 48, 79, 121, 81, 120, 84, 68, 68, 100, 55, 10, 0, 0, 0, 0, 0, 0, 0};
	int[] arrayToDecode3 = new int[]{83, 73, 80, 47, 50, 46, 48, 32, 50, 48, 48, 32, 79, 75, 13, 10, 84, 111, 58, 32, 60, 115, 105, 112, 58, 43, 49, 53, 49, 50, 57, 49, 48, 56, 48, 50, 52, 64, 53, 52, 46, 56, 51, 46, 49, 57, 54, 46, 50, 51, 56, 62, 59, 116, 97, 103, 61, 55, 56, 56, 57, 50, 55, 54, 55, 95, 97, 53, 56, 100, 51, 100, 53, 52, 95, 53, 55, 97, 53, 98, 48, 56, 97, 95, 50, 98, 51, 57, 52, 57, 56, 56, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 53, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 49, 49, 57, 54, 50, 56, 114, 100, 98, 50, 54, 48, 56, 49, 54, 50, 55, 51, 49, 122, 115, 100, 95, 48, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 48, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 49, 49, 57, 54, 50, 56, 114, 100, 98, 50, 54, 48, 56, 49, 54, 50, 55, 51, 49, 95, 48, 13, 10, 86, 105, 97, 58, 32, 83, 73, 80, 47, 50, 46, 48, 47, 85, 68, 80, 32, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 58, 53, 48, 54, 48, 59, 98, 114, 97, 110, 99, 104, 61, 122, 57, 104, 71, 52, 98, 75, 49, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 49, 49, 57, 54, 50, 56, 114, 100, 98, 50, 54, 48, 56, 49, 13, 10, 82, 101, 99, 111, 114, 100, 45, 82, 111, 117, 116, 101, 58, 32, 60, 115, 105, 112, 58, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 53, 59, 116, 114, 97, 110, 115, 112, 111, 114, 116, 61, 117, 100, 112, 59, 108, 114, 59, 110, 111, 100, 101, 95, 104, 111, 115, 116, 61, 49, 48, 46, 49, 51, 55, 46, 51, 56, 46, 49, 50, 54, 59, 110, 111, 100, 101, 95, 112, 111, 114, 116, 61, 53, 48, 56, 48, 59, 118, 101, 114, 115, 105, 111, 110, 61, 48, 62, 13, 10, 82, 101, 99, 111, 114, 100, 45, 82, 111, 117, 116, 101, 58, 32, 60, 115, 105, 112, 58, 49, 48, 46, 49, 54, 53, 46, 49, 51, 55, 46, 49, 55, 58, 53, 48, 54, 48, 59, 116, 114, 97, 110, 115, 112, 111, 114, 116, 61, 117, 100, 112, 59, 108, 114, 59, 110, 111, 100, 101, 95, 104, 111, 115, 116, 61, 49, 48, 46, 49, 51, 55, 46, 51, 56, 46, 49, 50, 54, 59, 110, 111, 100, 101, 95, 112, 111, 114, 116, 61, 53, 48, 56, 48, 59, 118, 101, 114, 115, 105, 111, 110, 61, 48, 62, 13, 10, 82, 101, 99, 111, 114, 100, 45, 82, 111, 117, 116, 101, 58, 32, 60, 115, 105, 112, 58, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 49, 49, 57, 54, 50, 56, 114, 100, 98, 50, 54, 48, 56, 49, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 58, 53, 48, 54, 48, 59, 108, 114, 59, 116, 114, 97, 110, 115, 112, 111, 114, 116, 61, 117, 100, 112, 62, 13, 10, 67, 83, 101, 113, 58, 32, 49, 32, 73, 78, 86, 73, 84, 69, 13, 10, 67, 97, 108, 108, 45, 73, 68, 58, 32, 54, 50, 55, 51, 49, 54, 48, 50, 49, 45, 48, 45, 50, 52, 50, 57, 52, 54, 57, 50, 55, 48, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 50, 50, 54, 13, 10, 70, 114, 111, 109, 58, 32, 60, 115, 105, 112, 58, 82, 101, 115, 116, 114, 105, 99, 116, 101, 100, 64, 54, 52, 46, 49, 51, 54, 46, 49, 55, 51, 46, 51, 49, 62, 59, 116, 97, 103, 61, 115, 97, 110, 115, 97, 121, 49, 57, 50, 56, 49, 49, 57, 54, 50, 56, 114, 100, 98, 50, 54, 48, 56, 49, 13, 10, 83, 101, 114, 118, 101, 114, 58, 32, 84, 101, 108, 83, 99, 97, 108, 101, 32, 82, 101, 115, 116, 99, 111, 109, 109, 32, 55, 46, 51, 46, 49, 46, 49, 49, 53, 55, 13, 10, 67, 111, 110, 116, 97, 99, 116, 58, 32, 60, 115, 105, 112, 58, 53, 52, 46, 56, 51, 46, 49, 57, 54, 46, 50, 51, 56, 58, 53, 48, 54, 48, 62, 13, 10, 67, 111, 110, 116, 101, 110, 116, 45, 84, 121, 112, 101, 58, 32, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 115, 100, 112, 13, 10, 67, 111, 110, 116, 101, 110, 116, 45, 76, 101, 110, 103, 116, 104, 58, 32, 51, 52, 48, 13, 10, 13, 10, 118, 61, 48, 13, 10, 111, 61, 45, 32, 49, 52, 52, 51, 56, 48, 51, 56, 51, 54, 54, 49, 54, 32, 49, 32, 73, 78, 32, 73, 80, 52, 32, 50, 51, 46, 50, 51, 46, 50, 50, 56, 46, 50, 51, 56, 13, 10, 115, 61, 77, 111, 98, 105, 99, 101, 110, 116, 115, 32, 77, 101, 100, 105, 97, 32, 83, 101, 114, 118, 101, 114, 13, 10, 99, 61, 73, 78, 32, 73, 80, 52, 32, 50, 51, 46, 50, 51, 46, 50, 50, 56, 46, 50, 51, 56, 13, 10, 116, 61, 48, 32, 48, 13, 10, 109, 61, 97, 117, 100, 105, 111, 32, 54, 53, 51, 56, 48, 32, 82, 84, 80, 47, 65, 86, 80, 32, 48, 32, 49, 56, 32, 49, 48, 49, 13, 10, 99, 61, 73, 78, 32, 73, 80, 52, 32, 50, 51, 46, 50, 51, 46, 50, 50, 56, 46, 50, 51, 56, 13, 10, 97, 61, 115, 101, 110, 100, 114, 101, 99, 118, 13, 10, 97, 61, 114, 116, 99, 112, 58, 54, 53, 51, 56, 49, 32, 73, 78, 32, 73, 80, 52, 32, 49, 48, 46, 49, 51, 55, 46, 51, 56, 46, 49, 50, 54, 13, 10, 97, 61, 112, 116, 105, 109, 101, 58, 50, 48, 13, 10, 97, 61, 114, 116, 112, 109, 97, 112, 58, 48, 32, 112, 99, 109, 117, 47, 56, 48, 48, 48, 13, 10, 97, 61, 114, 116, 112, 109, 97, 112, 58, 49, 48, 49, 32, 116, 101, 108, 101, 112, 104, 111, 110, 101, 45, 101, 118, 101, 110, 116, 47, 56, 48, 48, 48, 13, 10, 97, 61, 114, 116, 112, 109, 97, 112, 58, 49, 56, 32, 103, 55, 50, 57, 47, 56, 48, 48, 48, 13, 10, 97, 61, 115, 115, 114, 99, 58, 50, 55, 49, 49, 54, 55, 49, 55, 52, 50, 32, 99, 110, 97, 109, 101, 58, 107, 49, 101, 109, 119, 104, 103, 76, 102, 55, 111, 102, 81, 103, 105, 85, 10, 0};
	public void setUp() {
		sipFactory = new SipFactoryImpl();
		sipFactory.initialize("gov.nist", true);
	}
	
	/**
	 * Non regression test for Issue http://code.google.com/p/mobicents/issues/detail?id=1856
	 * Cannot create a parameterable header for Session-Expires
	 * 
	 * @throws ServletParseException
	 */
	public void testSessionExpires() throws ServletParseException {
		Parameterable p = sipFactory.createParameterable("3600");
		p.setParameter("refresher", "uac");
		System.out.println(p.toString());
		sipFactory.createURI("sip:proxy@localhost");
		for (int i = 0; i < arrayToDecode3.length; i++) {
			System.out.print((char)arrayToDecode3[i]);
		}
	}
}